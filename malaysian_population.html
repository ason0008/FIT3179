<!DOCTYPE html>
<html>
  <head>
    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
    <!-- Import vega-embed -->
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <!-- <link rel="stylesheet" href="https://ason0008.github.io/FIT3179/visualisation-styles.css"> -->
    <link rel="stylesheet" href="./visualisation-styles.css">
  </head>

  <body>
    <div class="main-title">MALAYSIAN POPULATION 2020</div>
    <div class="introductionA">In scientific terms, demographics is the study of population based on different paramaters. This visualisation serves to examine Malaysia's population demographic</div>
    <div class="introductionB">based on population density, population changes, gender, age group and ethnicity. The population of Malaysia in 2020 is estimated to be 32.65 million.</div>
    <div class="map-title">Population Density of States</div>
    <div class="map-grid">
      <div id="map"></div>
    </div>
    <div class="filter-map-caption">Click on each state to reveal a fun fact!</div>
    <div class="map-summary">From the map above, Sarawak is the largest state in Malaysia with the lowest population density. The Federal Territory of Kuala Lumpur has the highest population density due to it being the capital of the country.</div>

    <div class="connector">Let's dive deeper into the population changes of the states in the past decade!</div>

    <div class="waterfall-title">Population Changes of Malaysia in the Past Decade</div>
    <div class="waterfall-grid">
      <div id="waterfall"></div>
    </div>
    <div class="waterfall-summary">Based on the waterfall chart above, there is a steady population growth in all the states for the past decade with an exception. Since 2018, the population for the Federal Territory of Kuala Lumpur has been decreasing.</div>

    <div class="connector">In scientific terms, demographics is the study of population based on parameters such as population size, age structure, gender ratio and ethnicity ratio. Let's take a clearer look at the demographics of each state in the charts below.</div>

    <div class="heatmap-title">Population of States based on Age and Ethnicity</div>
    <div class="heatmap-grid">
      <div id="donut_heatmap"></div>
    </div>
    <div class="filter-heatmap-caption">Click on the donut chart to filter the heatmap based on ethnicity!</div>
    <div class="donut-caption">Malaysia is a multi-racial country consisting of 3 main ethnicity groups: Bumiputera, Chinese and Indian. Malays and the Orang Asli of Malaysia belong to the Bumiputera group. On the other hand, 'Others' refer to Malaysian citizens who are not of the three main ethnicities.</div>
    <img src="./gender_symbol.png" width="auto" height="100" style="position:absolute;vertical-align:middle;margin:-100px 200px"/>


    <!-- <div class="heatmap-summary"></div> -->

    <div class="spacing"></div>

    <div class="authorship">Design by: Amber Song Xin Ying</div>
    <div class="source">Data: Department of Statistics Malaysia Official Portal</div>

    <script type="text/javascript">
        var map = "https://ason0008.github.io/FIT3179/map.json";
        var waterfall = "https://ason0008.github.io/FIT3179/waterfall.json";
        var donut_heatmap = "https://ason0008.github.io/FIT3179/donut_heatmap.json";

        vegaEmbed('#map', map).then(function(result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        vegaEmbed('#waterfall', waterfall).then(function(result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);
        
        vegaEmbed('#donut_heatmap', donut_heatmap).then(function(result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);
    </script>
  </body>
</html>