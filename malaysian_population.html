<!DOCTYPE html>
<html>
  <head>
    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
    <!-- Import vega-embed -->
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <!-- <link rel="stylesheet" href="https://ason0008.github.io/FIT3179/visualisation-styles.css"> -->
    <link rel="stylesheet" href="https://ason0008.github.io/visualisation-styles.css">
  </head>

  <body>
    <div class="main-title">MALAYSIAN POPULATION 2020</div>
    <div class="introduction">The population of Malaysia in 2020 is estimated to be 32.65 million, which is an increase of 0.4% from the year 2019.</div>

    <div class="map-title">Population Density of States</div>
    <div class="map-grid">
      <div id="map"></div>
    </div>
    <div class="filter-map-caption">Click on each state to reveal a fun fact!</div>
    <div class="spacing"></div>

    <div class="waterfall-title">Population Changes of Malaysia in the Past Decade</div>
    <div class="waterfall-grid">
      <div id="waterfall"></div>
    </div>
    <div class="spacing"></div>

    <div class="heatmap-title">Population of States based on Age and Ethnicity</div>
    <div class="heatmap-grid">
      <div id="donut_heatmap"></div>
    </div>
    <div class="filter-heatmap-caption">Click on the donut chart to filter the heatmap based on ethnicity!</div>
    <div class="donut-caption">As a multi-racial country, there are 3 main ethnicities in Malaysia: Bumiputera/Malay, Chinese and Indian.</div>
    <div class="spacing"></div>

    <div class="authorship">Design by: Amber Song Xin Ying</div>
    <div class="source">Data: Department of Statistics Malaysia Official Portal</div>

    <script type="text/javascript">
        var map = "https://ason0008.github.io/FIT3179/map.json";
        var waterfall = "https://ason0008.github.io/FIT3179/waterfall.json";
        var donut_heatmap = "https://ason0008.github.io/FIT3179/donut_heatmap.json";

        vegaEmbed('#map', map).then(function(result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        vegaEmbed('#waterfall', waterfall).then(function(result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);
        
        vegaEmbed('#donut_heatmap', donut_heatmap).then(function(result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);
    </script>
  </body>
</html>